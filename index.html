<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Sohrab Fix - Ù…Ø±Ú©Ø² ØªØ¹Ù…ÛŒØ±Ø§Øª ØªØ®ØµØµÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„</title>
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/modir-font/dist/font-face.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
:root{
  --bg-image:url("https://i.imgur.com/Oan6lHs_d.jpeg?maxwidth=520&shape=thumb&fidelity=high");
  --text-color:#f5f5f7;
  --card-bg:rgba(255,255,255,0.06);
  --blur:14px;
  --primary:#ffd60a;
  --shadow:rgba(0,0,0,0.45);
  --neon-blue:#00d9ff;
}
body{margin:0;padding:0;font-family:'Modir',sans-serif;background:var(--bg-image) center/cover no-repeat fixed;color:var(--text-color);transition:.3s}
.navbar{position:fixed;top:0;width:100%;background:rgba(0,0,0,0.45);backdrop-filter:blur(10px);display:flex;gap:22px;justify-content:center;padding:12px;z-index:980}
.navbar a{color:var(--primary);font-weight:bold;text-decoration:none}
.call-floating{position:fixed;bottom:20px;right:20px;background:var(--primary);width:60px;height:60px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:30px;color:#000;box-shadow:0 0 18px rgba(255,214,10,.5);z-index:999}
.glow{position:fixed;width:350px;height:350px;border-radius:50%;filter:blur(110px);z-index:-1}
.glow1{top:-100px;right:-120px;background:#00c3ff;opacity:.6}
.glow2{bottom:-120px;left:-120px;background:#ffd60a;opacity:.6}
header{text-align:center;padding:70px 20px;background:rgba(0,0,0,0.45);backdrop-filter:blur(10px);position:relative;margin-top:50px}
header h1{font-size:34px;font-weight:bold;color:#a0eaff;text-shadow:0 0 12px #00d9ff,0 0 24px #00d9ff,0 0 36px #00d9ff}
header h2{font-size:28px;font-weight:bold;color:var(--neon-blue);margin-top:6px;text-shadow:0 0 8px #00d9ff,0 0 16px #00d9ff,0 0 24px #00d9ff}
header .cta{display:inline-block;margin-top:22px;padding:14px 24px;background:var(--primary);color:#000;font-weight:bold;border-radius:18px;font-size:16px;box-shadow:0 0 20px rgba(255,214,10,.5)}
.container{width:92%;margin:auto;padding-bottom:60px}
.section-title{font-size:24px;font-weight:bold;margin-top:40px;text-shadow:0 0 8px #000}
.services-list{display:flex;flex-direction:column;gap:12px;margin-top:20px}
.service-item{background:rgba(255,255,255,0.07);padding:16px;border-radius:16px;cursor:pointer;backdrop-filter:blur(var(--blur));box-shadow:0 6px 16px var(--shadow);transition:.3s;border-right:4px solid var(--primary)}
.service-item.active .service-content{max-height:200px;opacity:1;margin-top:10px}
.service-content{max-height:0;overflow:hidden;opacity:0;font-size:14px;transition:.35s}
.about,.whyus,.track-box,.request-form{margin-top:45px;background:rgba(255,255,255,0.06);padding:20px;border-radius:18px;box-shadow:0 8px 25px var(--shadow);backdrop-filter:blur(14px)}
.request-form input,.request-form textarea,.request-form select,.track-box input{width:100%;padding:12px 14px;margin-top:10px;border:none;border-radius:14px;background:rgba(255,255,255,0.1);color:var(--text-color)}
.request-form button,.track-box button{width:100%;padding:14px;margin-top:14px;border-radius:16px;border:none;background:var(--primary);color:#000;font-weight:bold;font-size:16px;box-shadow:0 0 20px rgba(255,214,10,.5);cursor:pointer}
.footer{text-align:center;padding:25px;margin-top:40px;background:rgba(0,0,0,0.55);backdrop-filter:blur(10px);border-radius:16px;font-size:15px;opacity:.9;display:flex;flex-direction:column;gap:6px;align-items:center}
.footer .socials a i{font-size:2em}
.tracking-code{font-family:'Modir',sans-serif;font-weight:bold;font-size:20px;color:#00ffec;margin-top:10px;display:block}

/* Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† */
#adminBtn{position:fixed;bottom:20px;left:20px;width:55px;height:55px;border-radius:50%;background:#ffd60a;color:#000;display:flex;justify-content:center;align-items:center;font-size:22px;z-index:999;box-shadow:0 0 18px rgba(255,214,10,.5)}
#adminPanel{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;height:70%;background:rgba(0,0,0,0.75);backdrop-filter:blur(12px);border-radius:20px;padding:20px;z-index:99999;color:white;overflow-y:auto;box-shadow:0 0 25px rgba(255,214,10,0.4)}
.details-box{margin-left:14px;margin-top:4px;padding:6px;border-left:2px solid #ffd60a}
.status-btn{display:inline-block;width:35px;height:35px;margin:6px;border-radius:6px;color:#000;text-align:center;line-height:35px;font-weight:bold;cursor:pointer;user-select:none;font-size:14px;}
.status-received{background:#f1c40f}
.status-processing{background:#3498db}
.status-ready{background:#2ecc71}
</style>
</head>
<body>

<div class="glow glow1"></div>
<div class="glow glow2"></div>

<div class="navbar">
  <a href="#services">Ø®Ø¯Ù…Ø§Øª</a>
  <a href="#about">Ø¯Ø±Ø¨Ø§Ø±Ù‡</a>
  <a href="#whyus">Ú†Ø±Ø§ Ù…Ø§</a>
  <a href="#track">Ø±Ù‡Ú¯ÛŒØ±ÛŒ</a>
  <a href="#request">Ø¯Ø±Ø®ÙˆØ§Ø³Øª</a>
</div>

<a href="tel:09102971003" class="call-floating"><i class="fa-solid fa-phone"></i></a>

<div id="adminBtn"><i class="fa-solid fa-lock"></i></div>

<header>
  <h1>Ù…Ø±Ú©Ø² ØªØ¹Ù…ÛŒØ±Ø§Øª ØªØ®ØµØµÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„</h1>
  <h2>Sohrab Fix</h2>
  <a href="#request" class="cta">Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª ØªØ¹Ù…ÛŒØ±</a>
</header>

<div class="container">

<div class="section-title" id="services">Ø®Ø¯Ù…Ø§Øª Ù…Ø§</div>
<div class="services-list">
  <div class="service-item"><div class="service-title">ØªØ¹ÙˆÛŒØ¶ Ø¨Ø§ØªØ±ÛŒ</div><div class="service-content">ØªØ¹ÙˆÛŒØ¶ Ø¨Ø§ØªØ±ÛŒ Ø¨Ø§ ØªØ³Øª Ø³Ù„Ø§Ù…Øª Ùˆ ØªØ¶Ù…ÛŒÙ† Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø·ÙˆÙ„Ø§Ù†ÛŒ</div></div>
  <div class="service-item"><div class="service-title">ØªØ¹ÙˆÛŒØ¶ Ø§Ù„â€ŒØ³ÛŒâ€ŒØ¯ÛŒ / ØªØ§Ú† / Ú¯Ù„Ø³</div><div class="service-content">Ù†ØµØ¨ ØµÙØ­Ù‡â€ŒÙ†Ù…Ø§ÛŒØ´ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨Ø§Ù„Ø§ Ùˆ Ø­Ø³Ø§Ø³ÛŒØª Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ù„Ù…Ø³ÛŒ</div></div>
  <div class="service-item"><div class="service-title">ØªØ¹Ù…ÛŒØ± ØªØ®ØµØµÛŒ Ø¨Ø±Ø¯</div><div class="service-content">ØªØ¹Ù…ÛŒØ± CPUØŒ Ù‡Ø§Ø±Ø¯ØŒ Ø¢ÛŒâ€ŒØ³ÛŒ Ùˆ Ù…Ø¯Ø§Ø± Ù¾Ø§ÙˆØ± Ø¨Ø§ ØªØ¬Ù‡ÛŒØ²Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</div></div>
  <div class="service-item"><div class="service-title">Ù…Ø´Ú©Ù„Ø§Øª ØµØ¯Ø§</div><div class="service-content">Ø±ÙØ¹ Ø®Ø´â€ŒØ®Ø´ ØµØ¯Ø§ØŒ Ù†ÙˆÛŒØ²ØŒ Ù…Ø´Ú©Ù„ Ù…Ú©Ø§Ù„Ù…Ù‡ Ùˆ ÙˆÛŒØ¨Ø±Ù‡</div></div>
  <div class="service-item"><div class="service-title">ØªØ¹Ù…ÛŒØ± Ø³ÙˆÚ©Øª Ø´Ø§Ø±Ú˜</div><div class="service-content">Ø±ÙØ¹ Ù…Ø´Ú©Ù„ Ø´Ø§Ø±Ú˜ Ùˆ ØªØ¹ÙˆÛŒØ¶ Ø³ÙˆÚ©Øª Ø¨Ø¯ÙˆÙ† Ø¢Ø³ÛŒØ¨ Ø¨Ù‡ Ø¨Ø±Ø¯</div></div>
  <div class="service-item"><div class="service-title">ØªØ¹Ù…ÛŒØ± Ø¯ÙˆØ±Ø¨ÛŒÙ†</div><div class="service-content">Ø±ÙØ¹ Ù…Ø´Ú©Ù„ Ù„Ø±Ø²Ø´ØŒ ÙÙˆÚ©ÙˆØ³ Ùˆ Ø´Ú©Ø³ØªÚ¯ÛŒ Ù„Ù†Ø²</div></div>
  <div class="service-item"><div class="service-title">Ø®Ø¯Ù…Ø§Øª Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„</div><div class="service-content">ÙÙ„Ø´ØŒ Ù†ØµØ¨ Ø±Ø§Ù… Ø§ØµÙ„ÛŒØŒ Ø­Ø°Ù FRP Ùˆ Ø±ÙØ¹ Ú©Ù†Ø¯ÛŒ Ø³ÛŒØ³ØªÙ…</div></div>
  <div class="service-item"><div class="service-title">Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª</div><div class="service-content">Ø±ÛŒÚ©Ø§ÙˆØ±ÛŒ Ø¹Ú©Ø³ØŒ ÙÛŒÙ„Ù… Ùˆ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø­Ø°Ù Ø´Ø¯Ù‡ Ø¨Ø§ Ø§Ù…Ù†ÛŒØª Ú©Ø§Ù…Ù„</div></div>
</div>

<div class="section-title" id="about">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</div>
<div class="about">Ù…Ø±Ú©Ø² ØªØ¹Ù…ÛŒØ±Ø§Øª ØªØ®ØµØµÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Sohrab Fix Ø¨Ø§ Ø³Ø§Ù„â€ŒÙ‡Ø§ ØªØ¬Ø±Ø¨Ù‡ Ø¯Ø± ØªØ¹Ù…ÛŒØ±Ø§Øª Ø³Ø®Øªâ€ŒØ§ÙØ²Ø§Ø± Ùˆ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ØŒ Ø§Ø±Ø§Ø¦Ù‡ Ø®Ø¯Ù…Ø§Øª Ø¨Ø§ Ú©ÛŒÙÛŒØª Ùˆ Ù‚Ø·Ø¹Ø§Øª Ø§ÙˆØ±Ø¬ÛŒÙ†Ø§Ù„.</div>

<div class="section-title" id="whyus">Ú†Ø±Ø§ Sohrab FixØŸ</div>
<div class="whyus">
  <div style="display:flex;flex-direction:column;gap:14px;font-size:15px">
    <div><i class="fa-solid fa-screwdriver-wrench"></i> ØªØ¹Ù…ÛŒØ± ØªØ®ØµØµÛŒ Ø¨Ø§ ØªØ¬Ù‡ÛŒØ²Ø§Øª Ø¨Ù‡â€ŒØ±ÙˆØ²</div>
    <div><i class="fa-solid fa-microchip"></i> Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ Ø¯Ù‚ÛŒÙ‚</div>
    <div><i class="fa-solid fa-shield-halved"></i> Ù‚Ø·Ø¹Ø§Øª Ø§ÙˆØ±Ø¬ÛŒÙ†Ø§Ù„ Ù‡Ù…Ø±Ø§Ù‡ Ø¶Ù…Ø§Ù†Øª</div>
    <div><i class="fa-solid fa-clock"></i> ØªØ­ÙˆÛŒÙ„ Ø³Ø±ÛŒØ¹</div>
    <div><i class="fa-solid fa-user-check"></i> Ø±Ø¶Ø§ÛŒØª Ø¨Ø§Ù„Ø§ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù†</div>
  </div>
</div>

<div class="section-title" id="track">Ø±Ù‡Ú¯ÛŒØ±ÛŒ ÙˆØ¶Ø¹ÛŒØª ØªØ¹Ù…ÛŒØ±</div>
<div class="track-box">
  <input type="text" id="trackCodeInput" placeholder="Ú©Ø¯ Ø±Ù‡Ú¯ÛŒØ±ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
  <button onclick="checkTrack()">Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª</button>
  <div id="trackResult" style="margin-top:15px;font-size:16px"></div>
</div>

<div class="request-form" id="request">
<h3>Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª ØªØ¹Ù…ÛŒØ± Ú¯ÙˆØ´ÛŒ</h3>
<form id="form">
  <input type="text" id="name" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ" required>
  <input type="tel" id="phone" placeholder="Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³" required>
  <input type="text" id="model" placeholder="Ù…Ø¯Ù„ Ú¯ÙˆØ´ÛŒ" required>
  <select id="serviceType" required>
    <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ø®Ø¯Ù…Øª</option>
    <option value="battery">ØªØ¹ÙˆÛŒØ¶ Ø¨Ø§ØªØ±ÛŒ</option>
    <option value="lcd">ØªØ¹ÙˆÛŒØ¶ Ø§Ù„â€ŒØ³ÛŒâ€ŒØ¯ÛŒ</option>
    <option value="board">ØªØ¹Ù…ÛŒØ± Ø¨Ø±Ø¯</option>
    <option value="sound">Ù…Ø´Ú©Ù„ ØµØ¯Ø§</option>
    <option value="charger">Ø³ÙˆÚ©Øª Ø´Ø§Ø±Ú˜</option>
    <option value="camera">Ø¯ÙˆØ±Ø¨ÛŒÙ†</option>
    <option value="software">Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±</option>
    <option value="recover">Ø±ÛŒÚ©Ø§ÙˆØ±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª</option>
  </select>
  <textarea id="problem" rows="4" placeholder="ØªÙˆØ¶ÛŒØ­ Ù…Ø´Ú©Ù„..." required></textarea>
  <button type="submit">Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª</button>
</form>
<div id="userCodeDisplay" style="margin-top:15px;font-size:16px;color:#00ffec;font-weight:bold"></div>
</div>

<div class="footer">
  <div>09102971003</div>
  <div class="socials" style="display:flex;gap:16px;margin-top:6px;">
    <a href="https://instagram.com/sohrab.fix" target="_blank"><i class="fab fa-instagram"></i></a>
    <a href="https://t.me/sohrabfix" target="_blank"><i class="fab fa-telegram"></i></a>
    <a href="https://wa.me/989102971003" target="_blank"><i class="fab fa-whatsapp"></i></a>
  </div>
</div>

<div id="adminPanel">
  <h3 style="text-align:center;color:#ffd60a">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h3>
  <div id="adminUserList"></div>
  <button onclick="closeAdmin()" style="width:100%;margin-top:20px;padding:12px;border:none;border-radius:12px;background:#ffd60a;color:black;font-weight:bold">Ø¨Ø³ØªÙ†</button>
</div>

<script>
// Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§
const users={};
const statusList=["Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯Ù‡","Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ","Ø¢Ù…Ø§Ø¯Ù‡ ØªØ­ÙˆÛŒÙ„"];
const statusColor=["status-received","status-processing","status-ready"];
const statusText = {
  "Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯Ù‡": "Ú¯ÙˆØ´ÛŒ Ø´Ù…Ø§ ÙˆØ§Ø±Ø¯ Ø§ØªØ§Ù‚ Ø¬Ø§Ø¯ÙˆÛŒ Ù…Ø§ Ø´Ø¯! ğŸª„",
  "Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ": "ØªØ¹Ù…ÛŒØ±Ú©Ø§Ø±Ù‡Ø§ Ø¨Ø§ Ø°Ø±Ù‡â€ŒØ¨ÛŒÙ† Ùˆ Ú†Ú©Ø´ Ù…Ø´ØºÙˆÙ„ Ú©Ø§Ø±Ù†Ø¯ ğŸ”§",
  "Ø¢Ù…Ø§Ø¯Ù‡ ØªØ­ÙˆÛŒÙ„": "Ú¯ÙˆØ´ÛŒ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª! ÙˆÙ‚ØªØ´Ù‡ Ú©Ù‡ Ø¢Ù† Ø±Ø§ Ø¨ØºÙ„ Ú©Ù†ÛŒØ¯ ğŸ“±âœ¨"
};

// Ø®Ø¯Ù…Ø§Øª Ø§Ú©Ø§Ø±Ø¯Ø¦ÙˆÙ†
document.querySelectorAll('.service-item').forEach(i=>i.onclick=()=>i.classList.toggle('active'));

// Ø±Ù‡Ú¯ÛŒØ±ÛŒ
function checkTrack(){
  const code=document.getElementById("trackCodeInput").value.trim();
  const user=Object.values(users).find(u=>u.code===code);
  const result=document.getElementById("trackResult"); result.innerHTML="";
  if(!user){ result.innerText="Ú©Ø¯ ÛŒØ§ÙØª Ù†Ø´Ø¯ ÛŒØ§ Ù‡Ù†ÙˆØ² Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."; return; }
  const subDiv=document.createElement("div");
  [...user.subs].reverse().forEach(sub=>{
    const h4=document.createElement("div"); h4.innerText=sub.model; h4.style.cursor="pointer"; h4.style.fontWeight="bold";
    const details=document.createElement("div"); details.style.display="block"; details.style.marginTop="4px"; details.style.padding="6px"; details.style.border="1px solid #ffd60a"; details.style.borderRadius="8px";
    const problem=document.createElement("div"); problem.innerText="Ù…Ø´Ú©Ù„: "+sub.problem;
    const status=document.createElement("div"); status.innerText="ÙˆØ¶Ø¹ÛŒØª: "+(statusText[sub.status] || sub.status);
    details.appendChild(problem); details.appendChild(status);
    subDiv.appendChild(h4); subDiv.appendChild(details);
  });
  result.appendChild(subDiv);
}

// Ú©Ø¯ Ø§Ø´ØªØ±Ø§Ú©
function generateCode(phone){
  for(const u of Object.values(users)) if(u.phone===phone) return u.code;
  const rand=Math.floor(1000+Math.random()*9000);
  return "SF"+rand;
}

// Ø§Ø±Ø³Ø§Ù„ ÙØ±Ù…
const form=document.getElementById("form");
form.onsubmit=e=>{
  e.preventDefault();
  const nameV=document.getElementById('name').value.trim();
  const phoneV=document.getElementById('phone').value.trim();
  const modelV=document.getElementById('model').value.trim();
  const serviceV=document.getElementById('serviceType').value;
  const problemV=document.getElementById('problem').value.trim();
  if(!nameV||!phoneV||!modelV||!serviceV||!problemV) return;
  const codeV=generateCode(phoneV);
  if(!users[codeV]) users[codeV]={name:nameV,phone:phoneV,code:codeV,subs:[]};
  users[codeV].subs.push({model:modelV,problem:problemV,status:"Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯Ù‡"});
  document.getElementById('userCodeDisplay').innerHTML=`${nameV} Ø¹Ø²ÛŒØ²ØŒ Ú©Ø¯ Ø±Ù‡Ú¯ÛŒØ±ÛŒ Ø´Ù…Ø§: <span style="color:#00ffec;font-weight:bold;">${codeV}</span>`;

  const txt=`Ø¯Ø±Ø®ÙˆØ§Ø³Øª ØªØ¹Ù…ÛŒØ± Ú¯ÙˆØ´ÛŒ\nÙ†Ø§Ù…: ${nameV}\nØ´Ù…Ø§Ø±Ù‡: ${phoneV}\nÙ…Ø¯Ù„: ${modelV}\nØ®Ø¯Ù…Øª: ${serviceV}\nØªÙˆØ¶ÛŒØ­ Ù…Ø´Ú©Ù„: ${problemV}\nÚ©Ø¯ Ø±Ù‡Ú¯ÛŒØ±ÛŒ: ${codeV}`;
  const waUrl=`https://wa.me/989102971003?text=${encodeURIComponent(txt)}`;
  const tgUrl=`https://t.me/sohrabfix?text=${encodeURIComponent(txt)}`;
  const smsUrl=`sms:09102971003?body=${encodeURIComponent(txt)}`;

  function openNext(url,next){
    const win=window.open(url,"_blank");
    if(!win && next) next();
  }
  openNext(waUrl,()=>openNext(tgUrl,()=>openNext(smsUrl,null)));
};

// Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†
const adminPassword = "139720139720sh";
const adminBtn=document.getElementById('adminBtn');
const adminPanel=document.getElementById('adminPanel');
const adminUserList=document.getElementById('adminUserList');
adminBtn.onclick=()=>{
  const pass=prompt("Ù„Ø·ÙØ§Ù‹ Ø±Ù…Ø² Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:");
  if(pass===adminPassword){ adminPanel.style.display="block"; renderAdmin(); }
  else if(pass!==null){ alert("Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª!"); }
};
function closeAdmin(){adminPanel.style.display="none";}

function renderAdmin(){
  adminUserList.innerHTML="";
  Object.values(users).forEach(user=>{
    const userDiv=document.createElement("div"); userDiv.style.borderBottom="1px solid #fff"; userDiv.style.padding="6px";
    const h4=document.createElement("h4"); h4.innerText=`${user.name} - ${user.code}`; h4.style.cursor="pointer";
    const subDiv=document.createElement("div"); subDiv.style.display="none"; subDiv.style.marginTop="6px";
    user.subs.forEach(sub=>{
      const modelH=document.createElement("div"); modelH.innerText=sub.model; modelH.style.cursor="pointer"; modelH.style.marginTop="4px";
      const details=document.createElement("div"); details.className="details-box"; details.style.display="none";
      const problem=document.createElement("div"); problem.innerText="Ù…Ø´Ú©Ù„: "+sub.problem;
      const phoneDiv=document.createElement("div"); phoneDiv.innerText="Ø´Ù…Ø§Ø±Ù‡: "+user.phone;
      const statusDiv=document.createElement("div"); statusDiv.innerText="ÙˆØ¶Ø¹ÛŒØª: ";
      statusList.forEach((s,i)=>{
        const btn=document.createElement("span"); btn.className="status-btn "+statusColor[i]; btn.title=s; btn.innerText=s; 
        btn.onclick=()=>{sub.status=s; renderAdmin(); };
        statusDiv.appendChild(btn);
      });
      details.appendChild(problem); details.appendChild(phoneDiv); details.appendChild(statusDiv);
      modelH.onclick=()=>details.style.display=(details.style.display==="none"?"block":"none");
      subDiv.appendChild(modelH); subDiv.appendChild(details);
    });
    h4.onclick=()=>subDiv.style.display=(subDiv.style.display==="none"?"block":"none");
    userDiv.appendChild(h4); userDiv.appendChild(subDiv); adminUserList.appendChild(userDiv);
  });
}
</script>

</body>
</html>
